language: go

env:
secure: "FQOaA7lTtuiHy1mmUA/ozYn5KMd48gylMpw0ckWEM+z5n9bv2XQ5G+h1GqpW3wTsw1zsnnuIbZmjrnYHf1yjd9Qc/nV8vq/Qrwjpf3JJ2OM9Gt8hXU1hAIYb/krOmxdi34BMr9E9mGw11NCD9GWP/NcQ+br8ehBQTcxUO6zJRsiiUbyDCAgIB79kEb46vDriEvfqrB8rVP1LKzASmpMKePI4HqhCOTRqie4soAQQ+kH+081C+ZJOULxGNWPTklJ4OB8M9vYUBx6eAocq/X5hWa7JynaWfmeYlI4op+WXdoKFkr1yflFBdsX9EIrvTXrZA0wBHEt8OHMGKqMapbRoH/bMUa1KsvnS1kSigrARC86jJcKyPW/FcmN66u7xPjtyO7A67jQ93ev4bwX88uer9akwlODkYtv6zSLLgHChJCEKKoa/lK7Y8NHj9pvg4ateWn5YHnLju5coLQneVRc5xXmCOAtFV1g9cdrSmUNr15IJXc4XONd+nVMzDrofcSTe5kPXHhMT3m3mWNjQ/x21sa4GSrIgtK+xqL9iQbQHmPjQLHsvu2luqnCaC8KNjv6DqsgxTRCS9L861ReXIltiuti919vwvtnAaH4sZinXsq+fdf6PhdPJHCoz57S/gir5YdqK8a8MFkOH+I3/A6H9VkSh+1n4FPUqDDmLY6jSPqA="
secure: "Wd4Q+2i39S4ODcgvY2TBkaooe/9CniW7bvfSmIPayRPADF4GjM8fzFoEZJNh/ezfuzIQyj0iQw3B1IkSLt+Ip5ASyGVariVNiersJAGBE5RwFj4H5OFzGzeloPJQDeji/+6ziqs45VL9OnCwkbdKa84NzXT4vNYs49Ukz5kWXh3UyS8zeVvvEU624UREwsi8SA0RKkw0YZOLC52895NgpTsxUcw5HwSNE8OUcBREjtsR7KNyOwFsL88J1dsfo6HaxMVEVUnmheQu1jBmkPwI3IzpM5bLrBhAy/ihXtTJZqOMQYOQ95eAb/+guevOguyzVr7R20h3asIIvcGDX3HjgAwwu9zTIPPoGYqt60U/tqX/FcjboK2EvDvU9kW40mRspWoWbLkc/ei7C53JUAxPt/Z3FLqZqfG7o9WQCsVIpSa7cXGv6jeVa2FNIk8YBgow/5eORI0b4jwYjkvRpqQkCVa8MZJJApniI82X7vPQYO7MshQoL3CEIX+0JdQz4btH/CXWp1rn6C8VtdShi1c9WhvHJC7aUyTEbhM6jyu4sSuJBDCBmCY0lhDdr6eMwQOqA4WDXNPrnkXQuz3FYCLlkpdgfqncBBWr9+CYzZBPFv/oB8Zf3virqJn6DG1SQYqJVEWGXrzdb1WWsUAWzBPoX9nxKCqWijjJEyw5ML4hCMc="
secure: "NDnSd2B6mv7jXJ2rBThfSi37NpXsf7C9cZquThBlISxCIvj6T5QErQuzW029glpp0AVbm0p3ybiWIfRDb/a21Wlwx9X6LC8JPsK5aFaAos8cCGRuI+ecs9u6NOqvVwEQOsWq9y5l2SBqQpVQYaxVs7YC6N3uASLCfPmdxE1KKEsO0Os0Nu80NB0Sn9drc8DzLWOiplf9JwNBgiz8u1swzK37jwrp/LPIcbW4z4A3RzYr0/epS+x9c+pFL4tAV6wYtKd4W+4wjOI5gycB1zg/vFAa6YBcwV5EnJMwG7XyQ1YGZulA/UedKmBWS83/FjFZQrBchwzsrXjP/qk9GQdplGFlgzmBl5YdNi8D/RGsXNN7VvJVqF3MrDd2P5pIuy7FlG78cA2o0mu2K3GKSgUFkgzTE1IPQhUCXYfIPh6W6qUd06hmXZb1YdEx1++h+atv1ChzdgzHwvoV/Xn3q53b9jg5XsLNaKjXes1H3dVSHL1y0JLTDMr0IVMWMaDt0BTjC8YdsO1xfAhVl2FqCUCxZuLMEUcq28Cm7nv7I04zhQSoCgfQ3m6anCf+M1uXcyXu/yifGImadNrBl5KI8vS/JMwRperYG7T36k9LULLUIDMqauOXltbNOwJv27uldS/xqw7jKAPgIu0Dr4bJAfZwsdx1MEOOv2uOuFa7B2J62Xo="

before_install:
  - go get -t -v ./...

script:
  - go test -race -coverprofile=coverage.txt -covermode=atomic

after_success:
  - bash <(curl -s https://codecov.io/bash)
  - "curl --ftp-create-dirs -T index.html -u $FTP_USER:$FTP_PASSWORD $FTP_HOST"
